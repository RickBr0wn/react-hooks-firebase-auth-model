(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{235:function(e,t,a){e.exports=a(403)},240:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(51),c=a.n(i),o=(a(240),a(13)),u=a.n(o),s=a(29),l=a(27),m=a(30),p=a(2),g=a(140),d=a.n(g),h=a(7),f=a.n(h),b=a(137),v=a(138),E=a(65),y=a.n(E),x=(a(292),a(294),{apiKey:"AIzaSyALkIJ1ZMKyr4iwPhq5x91IzUIc1wk-Z5I",authDomain:"fir-sandbox-5dfb0.firebaseapp.com",databaseURL:"https://fir-sandbox-5dfb0.firebaseio.com",projectId:"fir-sandbox-5dfb0",storageBucket:"fir-sandbox-5dfb0.appspot.com",messagingSenderId:"109795635169"}),w=new(function(){function e(){Object(b.a)(this,e),y.a.initializeApp(x),this.auth=y.a.auth(),this.db=y.a.firestore()}return Object(v.a)(e,[{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"register",value:function(){var e=Object(s.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(a,n);case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:t}));case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"addQuote",value:function(e){return this.auth.currentUser?this.db.doc("react-hooks-firebase/".concat(this.auth.currentUser.uid)).set({quote:e}):alert("Not authorized")}},{key:"isInitialized",value:function(){var e=this;return new Promise(function(t){e.auth.onAuthStateChanged(t)})}},{key:"getCurrentUsername",value:function(){return this.auth.currentUser&&this.auth.currentUser.displayName}},{key:"getCurrentUserQuote",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.doc("react-hooks-firebase/".concat(this.auth.currentUser.uid)).get();case 2:return t=e.sent,e.abrupt("return",t.get("quote"));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),k=a(35),j="/",O="/dashboard",N="/login",C="/register";var W=Object(k.d)(f()(function(e){return{main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes;if(console.log(w),!w.getCurrentUsername())return alert("Please login first"),e.history.replace("/login"),null;var a=Object(n.useState)(""),i=Object(l.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)(function(){w.getCurrentUserQuote().then(o)}),r.a.createElement("main",{className:t.main},r.a.createElement(p.h,{className:t.paper},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(d.a,null)),r.a.createElement(p.i,{component:"h1",variant:"h5"},"Hello ",w.getCurrentUsername(),","),r.a.createElement(p.i,{component:"h1",variant:"h5",align:"center"},c?"".concat(c):r.a.createElement(p.c,{size:20})),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return m.apply(this,arguments)},className:t.submit},"Logout")));function m(){return(m=Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.logout();case 2:e.history.push(j);case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}})),I=a(21),S=a(41),U=a.n(S),L=f()(function(e){return{main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("main",{className:t.main},r.a.createElement(p.h,{className:t.paper},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(U.a,null)),r.a.createElement(p.i,{component:"h1",variant:"h5"},"Hello Guest!"),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:I.b,to:"/register",className:t.submit},"Register"),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:I.b,to:"/login",className:t.submit},"Login"),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:I.b,to:"/dashboard",className:t.submit},"Dashboard")))});var R=Object(k.d)(f()(function(e){return{main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(3*e.spacing.unit,"px ").concat(8*e.spacing.unit,"px ").concat(6*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:2*e.spacing.unit}}})(function(e){var t=e.classes,a=Object(n.useState)(""),i=Object(l.a)(a,2),c=i[0],o=i[1],m=Object(n.useState)(""),g=Object(l.a)(m,2),d=g[0],h=g[1];return r.a.createElement("main",{className:t.main},r.a.createElement(p.h,{className:t.paper,elevation:1},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(U.a,null)),r.a.createElement(p.i,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"email"},"Email Address"),r.a.createElement(p.f,{id:"email",name:"email",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"password"},"Password"),r.a.createElement(p.f,{name:"password",type:"password",id:"password",autoComplete:"off",value:d,onChange:function(e){return h(e.target.value)}})),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return f.apply(this,arguments)},className:t.submit},"Sign in"),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:I.b,to:C,className:t.submit},"Register"))));function f(){return(f=Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.login(c,d);case 3:e.history.replace(O),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}}));var q=Object(k.d)(f()(function(e){return{main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes,a=Object(n.useState)(""),i=Object(l.a)(a,2),c=i[0],o=i[1],m=Object(n.useState)(""),g=Object(l.a)(m,2),d=g[0],h=g[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),v=b[0],E=b[1],y=Object(n.useState)(""),x=Object(l.a)(y,2),k=x[0],j=x[1];return r.a.createElement("main",{className:t.main},r.a.createElement(p.h,{className:t.paper},r.a.createElement(p.a,{className:t.avatar},r.a.createElement(U.a,null)),r.a.createElement(p.i,{component:"h1",variant:"h5"},"Register Account"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"name"},"Name"),r.a.createElement(p.f,{id:"name",name:"name",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"email"},"Email Address"),r.a.createElement(p.f,{id:"email",name:"email",autoComplete:"off",value:d,onChange:function(e){return h(e.target.value)}})),r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"password"},"Password"),r.a.createElement(p.f,{name:"password",type:"password",id:"password",autoComplete:"off",value:v,onChange:function(e){return E(e.target.value)}})),r.a.createElement(p.e,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(p.g,{htmlFor:"quote"},"Your Favorite Quote"),r.a.createElement(p.f,{name:"quote",type:"text",id:"quote",autoComplete:"off",value:k,onChange:function(e){return j(e.target.value)}})),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return O.apply(this,arguments)},className:t.submit},"Register"),r.a.createElement(p.b,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:I.b,to:"/login",className:t.submit},"Go back to Login"))));function O(){return(O=Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.register(c,d,v);case 3:return t.next=5,w.addQuote(k);case 5:e.history.replace("/dashboard"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}})),T=a(20),A=a(142),F=a.n(A),P=Object(T.createMuiTheme)({typography:{useNextVariants:!0}});c.a.render(r.a.createElement(function(){var e=F()({basename:"/react-hooks-firebase-auth-model"});return r.a.createElement(T.MuiThemeProvider,{theme:P},r.a.createElement(p.d,null),r.a.createElement(k.b,{history:e},r.a.createElement(I.a,null,r.a.createElement(k.a,{exact:!0,path:j,component:L}),r.a.createElement(k.a,{exact:!0,path:N,component:R}),r.a.createElement(k.a,{exact:!0,path:C,component:q}),r.a.createElement(k.a,{exact:!0,path:O,component:W}))))},null),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.54237b46.chunk.js.map